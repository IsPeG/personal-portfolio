<ol>
  <li><a class="link_effect" href="#about">About me</a></li>
  <li><a class="link_effect" href="#projects">My projects</a></li>
  <li><a class="link_effect" href="#knowledge">Knowledge</a></li>
</ol>

<script>
  var animationGoing = false;
  const texts = ["About me", "My projects", "Knowledge"];

  function sleep(ms) {
    return new Promise((resolve) => setTimeout(resolve, ms));
  }

  async function typeWriter(element, index) {
    if (animationGoing) return;
    animationGoing = true;
    const finalText = element.innerHTML;
    element.innerHTML = "";
    for (let i = 0; i < finalText.length; i++) {
      if (!animationGoing) {
        element.innerHTML = texts[index];
        return;
      }
      element.innerHTML += finalText[i];
      await sleep(50);
    }
    animationGoing = false;
  }

  const links = document.getElementsByClassName("link_effect");
  for (let i = 0; i < links.length; i++) {
    links[i].addEventListener("mouseenter", () => {
      typeWriter(links[i], i);
    });
    links[i].addEventListener("mouseleave", () => {
      animationGoing = false;
    });
  }
</script>

<style>
  ol {
    counter-reset: item;
    margin: 0;
    padding-left: 0;
    display: flex;
    flex-direction: row;
    justify-content: space-between;

    @media (min-width: 1024px) {
      flex-direction: column;
      justify-content: none;
    }
  }

  li {
    display: flex;
    cursor: pointer;
    justify-content: space-between;
    margin-top: 0.4rem;
    margin-bottom: 0.4rem;
    margin-left: 2em;
    text-align: left;
    border-bottom: none;

    @media (min-width: 1024px) {
      border-bottom: 1px dashed #00000020;
    }
  }

  li::before {
    display: inline-block;
    content: "[" counter(item) "]";
    counter-increment: item;
    width: 2em;
    margin-left: -2em;
  }
  li::after {
    display: block;
    content: "";
  }

  a {
    color: inherit;
    text-decoration: none;
    display: block;
    width: 100%;
    text-align: center;
  }
</style>
